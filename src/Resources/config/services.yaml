services:
    _defaults:
        autowire: true
        autoconfigure: true
        bind:
            $yamlIndent: '%aeliot_trans_maintain.yaml.indent%'

    Aeliot\Bundle\TransMaintain\Command\:
        resource: '../../Command/*'

    Aeliot\Bundle\TransMaintain\Service\DirectoryProvider:
        arguments:
            $defaultPath: '%translator.default_path%'
            $dirs: [ ]

    Aeliot\Bundle\TransMaintain\Service\Yaml\:
        resource: '../../Service/Yaml/*'
        exclude: '../../Service/Yaml/{Linter,KeyRegister.php,LinterRegistry.php,TransformationConveyor.php}'

    Aeliot\Bundle\TransMaintain\Service\Yaml\KeyRegister:
        arguments:
            $position: '%aeliot_trans_maintain.insert_missed_keys%'

    Aeliot\Bundle\TransMaintain\Service\Yaml\Linter\:
        resource: '../../Service/Yaml/Linter/*'
        tags: [ 'aeliot_trans_maintain.yaml.linter' ]

    Aeliot\Bundle\TransMaintain\Service\Yaml\LinterRegistry:
        arguments:
            $linters: !tagged 'aeliot_trans_maintain.yaml.linter'

    Aeliot\Bundle\TransMaintain\Service\Yaml\TransformationConveyor:
        arguments:
            $transformers:
                - '@Aeliot\Bundle\TransMaintain\Service\Yaml\Transformer\KeysCleaner'
                - '@Aeliot\Bundle\TransMaintain\Service\Yaml\Transformer\KeysTransformer'
                - '@Aeliot\Bundle\TransMaintain\Service\Yaml\Transformer\KeysSorter'
